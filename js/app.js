var portfolioList = [
  {
    image : 'img/gallery01.jpg',
    info : 'Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем. Магниты из дерева ручной работы с российской тематикой.'
  },
  {
    image : 'img/gallery02.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой. Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.'
  },
  {
    image : 'img/gallery03.jpg',
    info : 'Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем. Магниты из дерева ручной работы с российской тематикой.'
  },
  {
    image : 'img/gallery04.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой. Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.'
  },
  {
    image : 'img/gallery05.jpg',
    info : 'Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем. Магниты из дерева ручной работы с российской тематикой.'
  },
  {
    image : 'img/gallery06.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой. Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.'
  },
  {
    image : 'img/gallery07.jpg',
    info : 'Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем. Магниты из дерева ручной работы с российской тематикой.'
  },
  {
    image : 'img/gallery08.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой. Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.'
  },
  {
    image : 'img/gallery09.jpg',
    info : 'Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем. Магниты из дерева ручной работы с российской тематикой.'
  },
  {
    image : 'img/gallery10.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой. Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.'
  },
  {
    image : 'img/gallery11.jpg',
    info : 'Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем. Магниты из дерева ручной работы с российской тематикой.'
  },
  {
    image : 'img/gallery12.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой. Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.'
  }
];

var shopList = [
  {
    image : 'img/gallery01.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой. Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.',
    tags : ['souvenirs', 'popular', 'storage', 'wedding', 'light']
  },
  {
    image : 'img/gallery02.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой. Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.',
    tags : ['souvenirs', 'popular', 'furniture', 'interrior']
  },
  {
    image : 'img/gallery03.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой. Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.',
    tags : ['souvenirs', 'new-year', 'flowers']
  },
  {
    image : 'img/gallery04.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой. Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.',
    tags : ['souvenirs', 'new-year', 'light', 'wedding', 'interrior']
  },
  {
    image : 'img/gallery05.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой. Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.',
    tags : ['souvenirs', 'children', 'popular', 'new-year', 'sea', 'volumetric-letter']
  },
  {
    image : 'img/gallery06.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой. Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.',
    tags : ['souvenirs', 'children', 'glans', 'new-year']
  },
  {
    image : 'img/gallery07.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой. Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.',
    tags : ['souvenirs', 'children', 'popular']
  },
  {
    image : 'img/gallery08.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой. Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.',
    tags : ['souvenirs', 'children', 'glans', 'wedding']
  },
  {
    image : 'img/gallery09.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой. Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.',
    tags : ['souvenirs', 'popular', 'new-year', 'interrior', 'furniture', 'presents', 'flowers']
  }
];

var schmList = [
  {
    image : 'img/schm/schm01-1.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой.  Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.'
  },
  {
    image : 'img/schm/schm02-1.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой.  Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.'
  },
  {
    image : 'img/schm/schm03-1.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой.  Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.'
  },
  {
    image : 'img/schm/schm04-1.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой.  Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.'
  },
  {
    image : 'img/schm/schm05-1.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой.  Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.'
  },
  {
    image : 'img/schm/schm06-1.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой.  Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.'
  },
  {
    image : 'img/schm/schm07-1.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой.  Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.'
  },
  {
    image : 'img/schm/schm08-1.jpg',
    info : 'Магниты из дерева ручной работы с российской тематикой.  Выполнены на тонкой фанере, раскрашены и соединены с  магнитным слоем.'
  }
];

// javascript mediaqueri breakpoint
var cssBreakpoint = $('.js-media');

// phone mask
$('.phone-mask').mask('+7(999) 999-9999');

// animated nav dropdown button & cart dropdown button
var dropdownToggle = false;
var cartToggle = false;

function openDropdown() { 
  $('#dropdown-menu').addClass('show');
  $('#hamburger').addClass('open');
  dropdownToggle = true;
}

function closeDropdown() {
  $('#dropdown-menu').removeClass('show');
  $('#hamburger').removeClass('open');
  dropdownToggle = false;
}

function openCart () {
  $('#dropdown-cart').addClass('show');
  cartToggle = true;
}

function closeCart () {
  $('#dropdown-cart').removeClass('show');
  cartToggle = false;
}

function openCloseDropdown () {
  if ( dropdownToggle ) {
    closeDropdown();
  } else {
    openDropdown();
  }
}

function openCloseCart () {
  if ( cartToggle ) {
    closeCart();
  } else {
    openCart();
  }
}

function closeOnAction() {
  closeDropdown();
  closeCart();
}

$(window).ready( function() {
  $(window).on('resize', closeOnAction).on('scroll', closeOnAction)
});

window.addEventListener('click', function(event) {
  if ( !$(event.target).closest('.dropdown-btn').length &&  
      !$(event.target).closest('#dropdown-menu').length ) {
    $('#dropdown-menu').removeClass('show');
    $('#hamburger').removeClass('open');
    dropdownToggle = false;
  }
});

window.addEventListener('click', function(event) {
  if ( !$(event.target).closest('.cart-btn').length && 
      !$(event.target).closest('#dropdown-cart').length ) {
    $('#dropdown-cart').removeClass('show');
    cartToggle = false;
  }
});

$('.dropdown-btn').click(function() {
  openCloseDropdown();
});

$('.cart-btn').click(function() {
  openCloseCart();
});


// gallery function
var currentIndex = 0;
  
// gallery img loader
function galleryLoader (list) {
  $('.item-img').attr('src', list[currentIndex].image);
  $('.item-text').text(list[currentIndex].info);
  console.log(2);
}

// gallery left/right click
function galleryClick (list) {
  var lastIndex = list.length - 1;
  
  $('.portfolio-arr-right').click(function(event) {
    event.preventDefault();
    if (currentIndex == lastIndex) {
      currentIndex = 0;
      galleryLoader(list);
    } else {
      currentIndex += 1;
      galleryLoader(list);
    }      
  });
  
  $('.portfolio-arr-left').click(function(event) {
    event.preventDefault();
    if (currentIndex == 0) {
      currentIndex = lastIndex;
      galleryLoader(list);
    } else {
      currentIndex -= 1;
      galleryLoader(list);
    }
  });
}

//galleryLoader(portfolioList);

// index.html block
if ($('.js-index').length) {
  
  // portfolio slider
  galleryLoader(portfolioList);
  galleryClick(portfolioList);
  
} // /.js-index block


// shop.html block
if ($('.js-shop').length) {
  
  // shop lists sliders

  var $selectedGoodsValue = $('.select-goods option:selected').val();
  var $selector = $('.select-goods');
  var shopTaggedList = [];
  var shopNotTaggedList = [];
  var shopListLength = shopList.length;
  var shopCurrentIndex = 0;
  var otherCurrentIndex = 0;
  var shopLastIndex;
  var otherLastIndex;

  function shopListLoader () {
    $('#shop-img').attr('src', shopTaggedList[shopCurrentIndex].image);
    $('#shop-text').text(shopTaggedList[shopCurrentIndex].info);
  }

  function otherListLoader () {
    $('#other-img').attr('src', shopNotTaggedList[otherCurrentIndex].image);
    $('#other-text').text(shopNotTaggedList[otherCurrentIndex].info);
  }

  function getShopLists () {
    shopTaggedList = [];
    shopNotTaggedList = [];
    for (var i = 0; i < shopListLength; i++) {
      if (shopList[i].tags.includes($selectedGoodsValue)) {
        shopTaggedList.push(shopList[i]);
      } else {
        shopNotTaggedList.push(shopList[i]);
      }
    }
    shopCurrentIndex = 0;
    otherCurrentIndex = 0;
    shopLastIndex = shopTaggedList.length - 1;
    otherLastIndex = shopNotTaggedList.length - 1;
    return [shopTaggedList, shopNotTaggedList];
  }

  getShopLists();
  shopListLoader();
  otherListLoader();

  $selector.on('change', function () {
    $selectedGoodsValue = $('.select-goods option:selected').val();
    getShopLists();
    shopListLoader();
    otherListLoader();
  });

  function shopListClick () {

    $('#shop-arr-right').click(function(event) {
      event.preventDefault();
      if (shopCurrentIndex === shopLastIndex) {
        shopCurrentIndex = 0;
        shopListLoader();
      } else {
        shopCurrentIndex += 1;
        shopListLoader();
      }
    });

    $('#shop-arr-left').click(function(event) {
      event.preventDefault();
      if (shopCurrentIndex == 0) {
        shopCurrentIndex = shopLastIndex;
        shopListLoader();
      } else {
        shopCurrentIndex -= 1;
        shopListLoader();
      }
    });
  }
  shopListClick();

  function otherListClick () {

    $('#other-arr-right').click(function(event) {
      event.preventDefault();
      if (otherCurrentIndex === otherLastIndex) {
        otherCurrentIndex = 0;
        otherListLoader();
      } else {
        otherCurrentIndex += 1;
        otherListLoader();
      }
    });

    $('#other-arr-left').click(function(event) {
      event.preventDefault();
      if (otherCurrentIndex == 0) {
        otherCurrentIndex = otherLastIndex;
        otherListLoader();
      } else {
        otherCurrentIndex -= 1;
        otherListLoader();
      }
    });
  }
  otherListClick();
  
} // /.js-shop block


// workshop.html block
if ($('.js-workshop').length) {
    
  // workshop slider
  galleryLoader(schmList);
  galleryClick(schmList);

} // /.js-workshop block










